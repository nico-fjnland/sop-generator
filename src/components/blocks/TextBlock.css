/* TipTap Editor Styling */
.tiptap-wrapper .tiptap-editor {
  min-height: 36px;
  overflow: visible;
  font-family: 'Roboto', sans-serif;
  font-size: 11px;
  line-height: 1.5;
  font-weight: 400;
  color: #003366;
  margin: 0;
  padding: 0;
  outline: none;
}

.tiptap-wrapper .tiptap-editor:focus {
  outline: none;
}

.tiptap-wrapper .tiptap-paragraph {
  margin: 0;
  padding: 0;
}

.tiptap-wrapper .bullet-list {
  margin: 0;
  padding-left: 20px;
  list-style-type: disc;
}

.tiptap-wrapper .bullet-list li {
  margin: 0 0 2px 0;
  padding: 0;
}

.tiptap-wrapper .bullet-list li:last-child {
  margin-bottom: 0;
}

.tiptap-wrapper .ordered-list {
  margin: 0;
  padding-left: 20px;
  list-style-type: decimal;
}

.tiptap-wrapper .ordered-list li {
  margin: 0 0 2px 0;
  padding: 0;
}

.tiptap-wrapper .ordered-list li:last-child {
  margin-bottom: 0;
}

/* Placeholder styling - TipTap Placeholder Extension */
@media screen {
  .tiptap-wrapper .tiptap-editor p.is-editor-empty:first-child::before,
  .tiptap-wrapper .tiptap-editor p.is-empty:first-child::before {
    content: attr(data-placeholder);
    color: #adb5bd;
    pointer-events: none;
    position: absolute;
    left: 0;
    top: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100%;
  }

  /* Ensure parent has relative positioning for absolute placeholder */
  .tiptap-wrapper .tiptap-editor p.is-editor-empty:first-child,
  .tiptap-wrapper .tiptap-editor p.is-empty:first-child {
    position: relative;
  }
}

/* Hide placeholder in print */
@media print {
  .tiptap-wrapper .tiptap-editor p.is-editor-empty:first-child::before,
  .tiptap-wrapper .tiptap-editor p.is-empty:first-child::before {
    content: none !important;
    display: none !important;
  }
}

.tiptap-wrapper .ProseMirror-focused {
  outline: none;
}

.tiptap-wrapper .ProseMirror {
  outline: none;
}

/* Slash menu styles - Matching other dropdowns */
.slash-menu {
  background: hsl(var(--popover));
  border: 1px solid hsl(var(--border));
  border-radius: 0.5rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
  display: flex;
  flex-direction: column;
  overflow: auto;
  padding: 0.5rem;
  position: relative;
  min-width: 12rem;
  max-height: 24rem;
}

/* Remove Tippy.js default styles */
.tippy-box {
  border: none !important;
  box-shadow: none !important;
  background: transparent !important;
}

.slash-menu-item {
  align-items: center;
  background-color: transparent;
  border: none;
  border-radius: 0.25rem;
  display: flex;
  gap: 0.5rem;
  padding: 0.375rem 0.5rem;
  text-align: left;
  width: 100%;
  cursor: pointer;
  transition: background-color 0.15s ease, color 0.15s ease;
  color: hsl(var(--foreground));
}

.slash-menu-item:hover,
.slash-menu-item.is-selected {
  background-color: hsl(var(--accent));
  color: hsl(var(--accent-foreground));
}

.slash-menu-icon {
  flex-shrink: 0;
  width: 16px;
  height: 16px;
}

.slash-menu-title {
  font-size: 0.875rem;
  font-weight: 400;
  line-height: 1.5;
}

/* Highlight Item (Auszeichnung) styles */
.tiptap-wrapper .highlight-item {
  display: block;
  position: relative;
  margin: 0;
  padding: 0;
  padding-left: 20px;
  min-height: 18px;
  line-height: 1.5;
}

/* Icon element - absolutely positioned at left edge */
.tiptap-wrapper .highlight-item-icon {
  position: absolute;
  left: 0;
  top: 2px;
  display: block;
  width: 14px;
  height: 14px;
  background-color: var(--content-box-color, #003366);
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256'%3E%3Cpath d='M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm45.66,109.66-32,32a8,8,0,0,1-11.32-11.32L148.69,136H88a8,8,0,0,1,0-16h60.69l-18.35-18.34a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,173.66,133.66Z'/%3E%3C/svg%3E");
  mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 256 256'%3E%3Cpath d='M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm45.66,109.66-32,32a8,8,0,0,1-11.32-11.32L148.69,136H88a8,8,0,0,1,0-16h60.69l-18.35-18.34a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,173.66,133.66Z'/%3E%3C/svg%3E");
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: center;
  mask-position: center;
  user-select: none;
  pointer-events: none;
}

/* Content area - inline display */
.tiptap-wrapper .highlight-item-content {
  display: inline;
  outline: none;
}

/* Slash menu highlight icon uses content box color */
.slash-menu-item .highlight-icon {
  color: var(--content-box-color, #003366);
}

/* Image styles */
.tiptap-wrapper .tiptap-image {
  max-width: 100%;
  height: auto;
  display: block;
  margin: 12px 0;
  border-radius: 6px;
  border: 1px solid hsl(var(--border));
  cursor: pointer;
  transition: box-shadow 0.2s ease;
}

.tiptap-wrapper .tiptap-image:hover {
  box-shadow: 0 2px 8px rgba(0, 51, 102, 0.15);
}

/* Image Upload Node - Custom styles for better integration */
.tiptap-wrapper .tiptap-image-upload {
  margin: 12px 0;
}

.tiptap-wrapper .tiptap-image-upload .tiptap-image-upload-drag-area {
  background-color: hsl(210, 40%, 98%);
  border-color: hsl(207, 100%, 70%);
  border-width: 2px;
  border-radius: 8px;
  padding: 1.5rem 1rem;
}

.tiptap-wrapper .tiptap-image-upload .tiptap-image-upload-drag-area:hover {
  background-color: hsl(207, 100%, 97%);
  border-color: hsl(207, 100%, 50%);
}

.tiptap-wrapper .tiptap-image-upload .tiptap-image-upload-text {
  color: hsl(207, 100%, 20%);
  font-family: 'Roboto', sans-serif;
  font-size: 13px;
}

.tiptap-wrapper .tiptap-image-upload .tiptap-image-upload-subtext {
  color: hsl(215, 16%, 47%);
  font-family: 'Roboto', sans-serif;
  font-size: 11px;
}

/* Print styles */
@media print {
  .tiptap-wrapper .tiptap-editor {
    color: black;
  }
  
  .tiptap-wrapper .tiptap-image {
    max-width: 100%;
    page-break-inside: avoid;
  }
  
  /* Hide image upload node in print */
  .tiptap-wrapper .tiptap-image-upload {
    display: none !important;
  }
  
  /* Highlight item print styles - keep the icon color */
  .tiptap-wrapper .highlight-item::before {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
}

